"use strict";(self.webpackChunksite_docusaurus_template=self.webpackChunksite_docusaurus_template||[]).push([[7644],{27099:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/2023-09-14-09-49-42-6d3a4d9e8d31a16c9fd47ae8dd1d04e6.png"},77371:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"debug-notes","title":"Debug Notes","description":"This notes compile all sorts of bugs that you might encounter when running the mini project. Hopefully this helps \ud83e\ude79.","source":"@site/projects/debug-notes.md","sourceDirName":".","slug":"/debug-notes","permalink":"/DDW2023/projects/debug-notes","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Web Basics","permalink":"/DDW2023/projects/background/web"},"next":{"title":"Advanced","permalink":"/DDW2023/projects/category/advanced"}}');var i=s(74848),t=s(28453),o=(s(28548),s(13358),s(73627)),l=s(53833);const a={sidebar_position:2},c="Debug Notes",d={},h=[{value:"TLDR: Running on Vocareum",id:"tldr-running-on-vocareum",level:3},{value:"Env does not have the var VOC_PROXY_ID",id:"env-does-not-have-the-var-voc_proxy_id",level:3},{value:"bash: ./runflaskvoc.sh /bin/bash^M: bad interpreter",id:"bash-runflaskvocsh-binbashm-bad-interpreter",level:3},{value:"Fix",id:"fix",level:4},{value:"Error: The server responded with a non-Javascript MIME type of &quot;text/plain&quot;",id:"error-the-server-responded-with-a-non-javascript-mime-type-of-textplain",level:3},{value:"Fix:",id:"fix-1",level:4},{value:"IndexError: list index out of range",id:"indexerror-list-index-out-of-range",level:3}];function p(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"debug-notes",children:"Debug Notes"})}),"\n",(0,i.jsx)(l.A,{}),"\n",(0,i.jsxs)(n.p,{children:["This notes compile all sorts of bugs that you ",(0,i.jsx)(n.em,{children:"might"})," encounter when running the mini project. Hopefully this helps \ud83e\ude79."]}),"\n",(0,i.jsx)(n.h3,{id:"tldr-running-on-vocareum",children:"TLDR: Running on Vocareum"}),"\n",(0,i.jsxs)(n.p,{children:["We have given the steps to you in the ",(0,i.jsx)(n.code,{children:"README"})," file, we have also written additional explanations for you. But as the cherry on top, here's the steps:"]}),"\n",(0,i.jsxs)(n.p,{children:["We assume you follow the ",(0,i.jsx)(n.em,{children:"easy step"}),", which is to clone the original repository and just paste your answer."]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Clone"})," the repository","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/Data-Driven-World/d2w_mini_projects.git\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Refresh"})," the webpage, you should see it in vocareum's file tree on the left hand side pane"]}),"\n",(0,i.jsxs)(n.li,{children:["Change directory, ",(0,i.jsx)(n.strong,{children:"install"})," pipenv, ",(0,i.jsx)(n.strong,{children:"install"})," modules, ",(0,i.jsx)(n.strong,{children:"start"})," pipenv shell","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cd d2w_min_projects/mp_sort\npip install --user pipenv\npipenv install\npipenv shell\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Change the ",(0,i.jsx)(n.strong,{children:"content"})," of ",(0,i.jsx)(n.code,{children:"/app/__init.py__"}),": set ",(0,i.jsx)(n.code,{children:"voc=True"}),". You can click the python file from the Vocareum left pane.","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# set voc=False if you run on local computer\napplication.wsgi_app = PrefixMiddleware(application.wsgi_app, voc=True)\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Paste your answer in the ",(0,i.jsx)(n.strong,{children:"relevant files"}),", e.g ",(0,i.jsx)(n.code,{children:"library.py"}),", ",(0,i.jsx)(n.code,{children:"*.html"})," files, etc."]}),"\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.strong,{children:"transcrypt"})," (assuming your current directory is ",(0,i.jsx)(n.code,{children:"mp_*"}),")","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cd /app/static\npython -m transcrypt -b -n library\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Go back to ",(0,i.jsx)(n.code,{children:"mp_*"})," directory, change the bash script to be executable and run:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cd ../..\nchmod a+x ./runflaskvoc.sh\n./runflaskvoc.sh\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Once it is running, you can open another tab in your browser and type the following url: ",(0,i.jsx)(n.a,{href:"https://myserver.vocareum.com/",children:"https://myserver.vocareum.com/"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"env-does-not-have-the-var-voc_proxy_id",children:"Env does not have the var VOC_PROXY_ID"}),"\n",(0,i.jsxs)(n.p,{children:["You need to add the ",(0,i.jsx)(n.strong,{children:"trailing slash"})," at the URL as shown in the screenshot below:"]}),"\n",(0,i.jsx)(o.A,{path:s(27099).A,widthPercentage:"100%"}),"\n",(0,i.jsx)(n.h3,{id:"bash-runflaskvocsh-binbashm-bad-interpreter",children:"bash: ./runflaskvoc.sh /bin/bash^M: bad interpreter"}),"\n",(0,i.jsxs)(n.p,{children:["This is due to the way ",(0,i.jsx)(n.strong,{children:"newline"})," is encoded in Windows vs UNIX machines. You can read more about it ",(0,i.jsx)(n.a,{href:"https://support.nesi.org.nz/hc/en-gb/articles/218032857-Converting-from-Windows-style-to-UNIX-style-line-endings",children:"here"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"fix",children:"Fix"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Open runflaskvoc.sh on vocareum"}),"\n",(0,i.jsx)(n.li,{children:"Go to line 2 (the empty line after #!/bin/bash)"}),"\n",(0,i.jsx)(n.li,{children:"Press backspace"}),"\n",(0,i.jsx)(n.li,{children:"Press enter"}),"\n",(0,i.jsx)(n.li,{children:"Wait for it to save"}),"\n",(0,i.jsx)(n.li,{children:"Run ./runflaskvoc.sh again"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Courtesy of TA Daniel"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"error-the-server-responded-with-a-non-javascript-mime-type-of-textplain",children:'Error: The server responded with a non-Javascript MIME type of "text/plain"'}),"\n",(0,i.jsxs)(n.p,{children:["It means that ",(0,i.jsx)(n.em,{children:"something"})," might have changed your ",(0,i.jsx)(n.a,{href:"https://support.microsoft.com/en-us/windows/how-to-open-registry-editor-in-windows-10-deab38e6-91d6-e0aa-4b7c-8878d9e07b11",children:"Windows registry"})," file."]}),"\n",(0,i.jsx)(n.h4,{id:"fix-1",children:"Fix:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Open your search bar by pressing Win + R"}),"\n",(0,i.jsx)(n.li,{children:"Type in regedit and press enter"}),"\n",(0,i.jsx)(n.li,{children:"Find .js under the parent path HKEY_CLASSES_ROOT"}),"\n",(0,i.jsx)(n.li,{children:"Change the data field of Content Type from text/plain to application/javascript"}),"\n",(0,i.jsx)(n.li,{children:"Save, and then re-run flask run"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Courtesy of TA Alex"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"indexerror-list-index-out-of-range",children:"IndexError: list index out of range"}),"\n",(0,i.jsxs)(n.p,{children:["If the error as such appear after typing the ",(0,i.jsx)(n.code,{children:"transcrypt"})," command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"Traceback (most recent call last):\n  File \"/mnt/vocwork2/ddd_v1_w_2bG_1401946/asn1029778_3/asn1029779_1/work/.local/share/virtualenvs/mp_sort-K9CB8Yy2/lib/python3.8/site-packages/transcrypt/__main__.py\", line 162, in main\n    compiler.Program (transpilationDirs, __symbols__, __envir__)\n  File \"/mnt/vocwork2/ddd_v1_w_2bG_1401946/asn1029778_3/asn1029779_1/work/.local/share/virtualenvs/mp_sort-K9CB8Yy2/lib/python3.8/site-packages/transcrypt/modules/org/transcrypt/compiler.py\", line 112, in __init__\n    message = f'\\n\\t{exception}'\n  File \"/mnt/vocwork2/ddd_v1_w_2bG_1401946/asn1029778_3/asn1029779_1/work/.local/share/virtualenvs/mp_sort-K9CB8Yy2/lib/python3.8/site-packages/transcrypt/modules/org/transcrypt/utils.py\", line 215, in __str__\n    result += '\\n\\tFile \\'{}\\', line {}, namely:'.format (str (program.importStack [-1][0] .name), self.lineNr)\nIndexError: list index out of range\n"})}),"\n",(0,i.jsxs)(n.p,{children:["then it is likely that you ",(0,i.jsx)(n.strong,{children:"did not execute transcrypt"})," in ",(0,i.jsx)(n.code,{children:"app/static"})," directory. Simply ",(0,i.jsx)(n.code,{children:"cd"})," there and re-run the ",(0,i.jsx)(n.code,{children:"transcrypt"})," command again."]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);